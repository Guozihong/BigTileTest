{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "//加载资源枚举\nvar SourceTypeEnum = cc.Enum({\n    'Asset' : 1,\n    'RawAsset' : 2\n});\nvar Display = cc.Class({\n    properties: {\n        //所有预置的引用\n        perfabMaps : {\n            default:{}\n        },\n        //所有图片帧的引用\n        spriteFrameMaps:{\n            default:{}\n        },\n        //所有图集的引用\n        spriteAtlasMaps:{\n            default:{}\n        },\n        //所有地图引用\n        tiledMapAssetMaps:{\n            default:{}\n        },\n    },\n    ctor: function () {\n        // 声明实例变量并赋默认值\n        cc.log(\"Display:ctor\");\n    },\n    //添加精灵图集框架\n    //如果plist和png资源均未预加载则会触发io \n    //可理解为阻塞式加载\n    addSpriteFrames:function(plist, png)\n    {\n        cc.spriteFrameCache.addSpriteFrames(plist, png) \n    },\n    //预加载\n    //list array\n    preload : function(list, cb)\n    {\n        var total = list.length\n        var _t = 0\n        var self = this;\n        var type = '';\n        var url = \"\";\n        for (var i in list) {\n            url = list[i][0];\n            type = list[i][1];\n            this.load(url, type, function (err, res) {\n                _t++;\n                if (_t == total) return cb(true, 100);\n                cb(false, parseInt(100 * _t / total))\n            })\n        }\n    },\n    //加载预制资源\n    //image.png/image, prefab, anim\n    //url:View/UI/DarkMaskLayer 对应 /assert/resource/View/UI/DarkMaskLayer\n    //如果有图集图片等包函在预制中则会被同步加载\n    load:function(url, type, cb){\n        // cc.log(\"loadAsset\", url)\n        var self = this;\n        cc.loader.loadRes(url, type, function (err, res) {\n            // cc.log(\"loadAsset cb\", url, err, res)\n            if (err) return cb(err, res);\n            if (res instanceof cc.Prefab) {\n                self.perfabMaps[res._name] = res;\n            } else if (res instanceof cc.SpriteFrame) {\n                self.spriteFrameMaps[res._name] = res\n            } else if (res instanceof cc.SpriteAtlas) {\n                self.spriteAtlasMaps[res._name] = res\n            } else if (res instanceof cc.TiledMapAsset) {\n                self.tiledMapAssetMaps[res._name] = res\n            }\n            // cc.log(self.spriteFrameMaps)\n            // cc.log(self.spriteAtlasMaps)\n            cb(false, res)\n        });\n    },\n    //加载图片图集等资源文件\n    //加载plist会自动加载对应的Png \n    //url 写法 textures/combat_enveffect_bosswarn.plist 对应 asset/resource/textures/combat_enveffect_bosswarn.plist\n    loadRawAsset:function(url, cb){\n        cc.loader.loadRes(url, function (err, spriteFrame) {\n            cc.log(\"combat_enveffect_bosswarn done\", err, spriteFrame)\n            cb(err, spriteFrame)\n        });\n    },\n    \n    //在当前场影弹出一个tip提示\n    tip : function(message){\n        cc.log(\"diaplay.tip\", \"message\")\n        var prefabNme = 'View/UI/tip'\n        this.loadPerfab(prefabNme, function(err, prefab){\n            if (err) return cc.assert(err, prefabNme+'加载失败');\n            var viewNode = cc.instantiate(prefab);\n            var label = viewNode.getComponentInChildren(cc.Label)\n            label.string = message\n            // require('GM').getRunningSceneMediator().node.addChild(viewNode, 30)\n            // cc.director.getScene().addChild(viewNode)\n            // self.node.addChild(viewNode)\n            // self.pushView(viewNode);\n        })\n    },\n    //UI锁定\n    uiLock : function(message){\n        var self = this;\n        if(!message)\n        {\n            message = \"\";\n        }\n        var prefabNme = 'View/UILock/UILock'\n        this.loadPerfab(prefabNme, function(err, prefab){\n            if (err) return cc.assert(err, prefabNme+'加载失败');\n            self.viewNode = cc.instantiate(prefab);\n            var label = self.viewNode.getChildByName(\"message\").getComponent(cc.Label);\n            label.string = message\n            // require('GM').getRunningSceneMediator().node.addChild(self.viewNode, 30)\n            // cc.director.getScene().addChild(viewNode)\n            // self.node.addChild(viewNode)\n            // self.pushView(viewNode);\n        })\n        \n    },\n    uiUnLock:function(){\n      var self = this;\n        if(!this.viewNode)\n        {\n            setTimeout(function(){\n                 self.uiUnLock();\n            },200);\n          \n            return;\n        }\n        // require('GM').getRunningSceneMediator().node.removeChild(this.viewNode)\n    }, \n    loadPerfab : function(perfabName, cb){\n        if (this.perfabMaps[perfabName]) return cb(false, this.perfabMaps[perfabName])\n        var self = this;\n        this.load(perfabName, cc.Prefab,function(err, prefab){\n            if (err) return cb(err);\n            self.perfabMaps[perfabName] = prefab;\n            cb(false, prefab)\n        })\n    },\n    getPrefab : function(perfabName){\n        return this.perfabMaps[perfabName]\n    },\n    getSpriteFrame:function(frameName){\n        if (this.spriteFrameMaps[frameName]) return this.spriteFrameMaps[frameName];\n        for (var atlasName in this.spriteAtlasMaps) {\n            var atlas = this.spriteAtlasMaps[atlasName]\n            if (atlas.getSpriteFrame(frameName)) return atlas.getSpriteFrame(frameName);\n        }\n        cc.assert(false, \"frameName:\"+frameName+'不存在');\n    },\n    getTmxAsset:function(tmxName){\n        if (this.tiledMapAssetMaps[tmxName]) return this.tiledMapAssetMaps[tmxName];\n        return false\n    },\n});\n\nmodule.exports = new Display();"
  ]
}